<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org">
<th:block th:replace="~{layout/basic::setContent(~{this::content})}">
    <th:block th:fragment="content">
        <style>
            .form-group {
                margin: 30px 0 30px 0;
            }
        </style>
        <h1 class="mt-4">Guestbook Read Page</h1>
        <div class="form-group">
            <label for="gno">Gno</label>
            <input type="text" name="gno" id="gno" class="form-control" th:value="${guestbookDTO.gno}" readonly />
        </div>
        <div class="form-group">
            <label for="title">Title</label>
            <input type="text" name="title" id="title" class="form-control" th:value="${guestbookDTO.title}" readonly />
        </div>
        <div class="form-group">
            <label for="content">Content</label>
            <input type="text" name="content" id="content" class="form-control" th:value="${guestbookDTO.content}"
                   readonly>
        </div>
        <div class="form-group">
            <label for="writer">Writer</label>
            <input type="text" name="writer" id="writer" class="form-control" th:value="${guestbookDTO.writer}"
                   readonly>
        </div>
        <div class="form-group">
            <label for="title">Register Date</label>
            <input type="text" class="form-control"
                   th:value="${#temporals.format(guestbookDTO.regDate, 'yyyy/MM/dd hh:mm:ss')}" readonly>
        </div>
        <div class="form-group">
            <label for="title">Modified Date</label>
            <input type="text" class="form-control"
                   th:value="${#temporals.format(guestbookDTO.modDate, 'yyyy/MM/dd hh:mm:ss')}" readonly>
        </div>
        <div class="form-group">
            <a th:href="@{/guestbook/modify(gno=${guestbookDTO.gno},page=${pageRequestDTO.page}
                ,type=${pageRequestDTO.type},keyword=${pageRequestDTO.keyword})}" class="btn btn-primary">Modify</a>
            <a th:href="@{/guestbook/list(page=${pageRequestDTO.page},type=${pageRequestDTO.type}
                ,keyword=${pageRequestDTO.keyword})}" class="btn btn-info">List</a>
        </div>
        <div class="modal fade" id="myModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
            <div class="modal-dialog">
                <div class="modal-content">
                    <div class="modal-header">
                        <h1 class="modal-title fs-5" id="exampleModalLabel">Modal title</h1>
                        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                    </div>
                    <div class="modal-body">
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                        <!-- <button type="button" class="btn btn-primary">Save changes</button> -->
                    </div>
                </div>
            </div>
        </div>
        <script th:inline="javascript">
            window.onload = () => {
                var msg = [[${msg}]]
                if (msg) {
                    const myModal = new bootstrap.Modal(document.querySelector('#myModal'),
                        { backdrop: true });
                    document.querySelector(".modal-title").innerHTML = `<p>수정 알림</p>`
                    document.querySelector(".modal-body").innerHTML = `<p>${msg} 번 글이 수정되었습니다.</p>`
                    myModal.show()
                }
                history.replaceState({}, null, null)
            }

        </script>
    </th:block>
</th:block>

</html>